[gd_scene load_steps=41 format=3 uid="uid://c1subyoeemka5"]

[ext_resource type="Script" path="res://Screens/PlayArea/MouseTracker.gd" id="1_a8bkx"]
[ext_resource type="Script" path="res://Screens/PlayArea/Glogic.gd" id="1_clthu"]
[ext_resource type="Script" path="res://Screens/PlayArea/PlayArea.gd" id="1_nnf3k"]
[ext_resource type="Texture2D" uid="uid://clmp6yk6o6b5p" path="res://Assets/pdf2png/bk_sans_006105/Map.png" id="2_vjde7"]
[ext_resource type="Script" path="res://Screens/PlayArea/Grid.gd" id="3_cmsep"]
[ext_resource type="Resource" uid="uid://txw0v74napkw" path="res://PlayerStuff/rosters/HP2/HP2.tres" id="3_j7mwk"]
[ext_resource type="Resource" uid="uid://12h77o0tyw8e" path="res://PlayerStuff/weapons/dartset.tres" id="5_4vsjs"]
[ext_resource type="Texture2D" uid="uid://c6xa88r7ogpsk" path="res://Assets/gear.png" id="5_a6bah"]
[ext_resource type="Resource" uid="uid://j6pn2qrmsg7a" path="res://PlayerStuff/weapons/grenades.tres" id="6_5v8la"]
[ext_resource type="Script" path="res://Screens/PlayArea/PlayAreaSettingsButton.gd" id="6_65q8j"]
[ext_resource type="Resource" uid="uid://b4xobpdfxu0kg" path="res://PlayerStuff/weapons/huntingknife.tres" id="7_pxpkk"]
[ext_resource type="Resource" uid="uid://dmdoqm8a2gb4s" path="res://PlayerStuff/weapons/throwingstars.tres" id="8_2jvue"]
[ext_resource type="Script" path="res://Screens/PlayArea/Log.gd" id="8_jb1d5"]
[ext_resource type="Script" path="res://Screens/PlayArea/SR.gd" id="9_56w3f"]
[ext_resource type="Resource" uid="uid://8y4k1xa2j76w" path="res://PlayerStuff/weapons/typewritergun.tres" id="9_84d1j"]
[ext_resource type="Resource" uid="uid://dgccoktxhyw6r" path="res://PlayerStuff/weapons/hatchet.tres" id="10_0slvi"]
[ext_resource type="Resource" uid="uid://cia36dsbrk60y" path="res://PlayerStuff/weapons/fork.tres" id="11_xqr7u"]
[ext_resource type="Resource" uid="uid://ck53bgdt5oc2x" path="res://PlayerStuff/weapons/crossbow.tres" id="12_snya5"]
[ext_resource type="Resource" uid="uid://s3h81tvug80b" path="res://PlayerStuff/weapons/icepick.tres" id="13_w8uqc"]
[ext_resource type="Resource" uid="uid://bkfr2qecybqtl" path="res://PlayerStuff/weapons/sledgehammer.tres" id="14_bs0bv"]
[ext_resource type="Resource" uid="uid://ccamoi5h1ef10" path="res://PlayerStuff/weapons/banjo.tres" id="15_t7p0w"]
[ext_resource type="Resource" uid="uid://b58p0d0hrpwrm" path="res://PlayerStuff/weapons/sword.tres" id="16_vscao"]
[ext_resource type="Resource" uid="uid://cvp14wqtmdprf" path="res://PlayerStuff/weapons/brassknuckles.tres" id="17_rpkrr"]
[ext_resource type="Resource" uid="uid://dooixd1smsxiv" path="res://PlayerStuff/weapons/bow.tres" id="18_mgu6x"]
[ext_resource type="Resource" uid="uid://b37s6nmwua650" path="res://PlayerStuff/weapons/baseballbat.tres" id="19_upeqn"]
[ext_resource type="Resource" uid="uid://bquwyd1fs5rpq" path="res://PlayerStuff/weapons/sickle.tres" id="20_t83dt"]
[ext_resource type="Resource" uid="uid://dhp814igdu468" path="res://PlayerStuff/weapons/shotgun.tres" id="21_f405u"]
[ext_resource type="Resource" uid="uid://bbyb2354x7hvs" path="res://PlayerStuff/weapons/pistol.tres" id="22_6mgdw"]
[ext_resource type="Resource" uid="uid://rdw0n71n5fna" path="res://PlayerStuff/weapons/revolver.tres" id="23_7u1to"]
[ext_resource type="Resource" uid="uid://bsawbv18tly3n" path="res://PlayerStuff/weapons/boomerang.tres" id="24_ebqpc"]
[ext_resource type="Resource" uid="uid://b12qq1jhqg2a1" path="res://PlayerStuff/weapons/sawedoff.tres" id="25_bskfv"]
[ext_resource type="Resource" uid="uid://dm1sghjaeqobv" path="res://PlayerStuff/weapons/glock.tres" id="26_8k55c"]
[ext_resource type="Resource" uid="uid://c5fh6cyn4ldcl" path="res://PlayerStuff/weapons/slingshot.tres" id="27_u6lwt"]
[ext_resource type="Resource" uid="uid://dn0e6887vmv2b" path="res://PlayerStuff/weapons/kevlar.tres" id="28_6gln8"]
[ext_resource type="Resource" uid="uid://dw0lgej4p1e87" path="res://PlayerStuff/weapons/spear.tres" id="29_02d7l"]
[ext_resource type="Resource" uid="uid://cjym8ggc0gc41" path="res://PlayerStuff/weapons/tennisracquet.tres" id="30_7wmnd"]
[ext_resource type="Resource" uid="uid://dokhvb5u7qru3" path="res://PlayerStuff/weapons/dagger.tres" id="31_uwwp5"]

[sub_resource type="CircleShape2D" id="CircleShape2D_l5vvi"]
radius = 2.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_wrb36"]
bg_color = Color(0.113725, 0.105882, 0.109804, 1)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_a32b1"]

[node name="PlayArea" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
script = ExtResource("1_nnf3k")
roster = ExtResource("3_j7mwk")
metadata/_edit_use_anchors_ = true

[node name="MouseTracker" type="Area2D" parent="."]
script = ExtResource("1_a8bkx")
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="MouseTracker"]
shape = SubResource("CircleShape2D_l5vvi")

[node name="Glogic" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("1_clthu")
weapons = [ExtResource("5_4vsjs"), ExtResource("6_5v8la"), ExtResource("7_pxpkk"), ExtResource("8_2jvue"), ExtResource("9_84d1j"), ExtResource("10_0slvi"), ExtResource("11_xqr7u"), ExtResource("12_snya5"), ExtResource("13_w8uqc"), ExtResource("14_bs0bv"), ExtResource("15_t7p0w"), ExtResource("16_vscao"), ExtResource("17_rpkrr"), ExtResource("18_mgu6x"), ExtResource("19_upeqn"), ExtResource("20_t83dt"), ExtResource("21_f405u"), ExtResource("22_6mgdw"), ExtResource("23_7u1to"), ExtResource("24_ebqpc"), ExtResource("25_bskfv"), ExtResource("26_8k55c"), ExtResource("27_u6lwt"), ExtResource("28_6gln8"), ExtResource("29_02d7l"), ExtResource("30_7wmnd"), ExtResource("31_uwwp5")]

[node name="mapGrid" type="Control" parent="."]
layout_mode = 1
anchor_right = 0.557
anchor_bottom = 1.0
offset_right = -285.184
offset_bottom = -512.0
metadata/_edit_use_anchors_ = true

[node name="Grid" type="Node" parent="mapGrid"]
script = ExtResource("3_cmsep")

[node name="MapSprite" type="Sprite2D" parent="mapGrid/Grid"]
texture_filter = 1
position = Vector2(553, 542)
scale = Vector2(0.923077, 0.898029)
texture = ExtResource("2_vjde7")
region_enabled = true
region_rect = Rect2(277, 213, 1157, 1167)

[node name="Land" type="Area2D" parent="mapGrid/Grid"]
unique_name_in_owner = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="mapGrid/Grid/Land"]
position = Vector2(816, 112)
build_mode = 1
polygon = PackedVector2Array(-17, -3, -289, 77, -343, 113, -389, 133, -436, 179, -477, 193, -549, 252, -621, 330, -659, 409, -682, 499, -676, 560, -645, 644, -615, 716, -586, 735, -564, 795, -529, 825, -494, 838, -399, 837, -218, 798, -65, 736, 27, 663, 84, 573, 124, 514, 157, 432, 160, 368, 182, 233, 154, 160, 109, 127, 106, 86, 84, 30, 55, 22)

[node name="School" type="Marker2D" parent="mapGrid/Grid"]
unique_name_in_owner = true
position = Vector2(695, 672)

[node name="UI" type="Control" parent="."]
layout_mode = 1
anchor_left = 0.566146
anchor_right = 1.00104
anchor_bottom = 0.998148
grow_horizontal = 0
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="ScrollContainer" type="ScrollContainer" parent="UI"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.0179641
anchor_top = 0.0844156
anchor_right = 0.513772
anchor_bottom = 0.891466
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="VBoxContainer" type="VBoxContainer" parent="UI/ScrollContainer"]
custom_minimum_size = Vector2(400, 150)
layout_mode = 2
metadata/_edit_use_anchors_ = true

[node name="LogPanel" type="Panel" parent="UI"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.534132
anchor_top = 0.0844156
anchor_right = 0.985629
anchor_bottom = 0.988868
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[node name="MarginContainer" type="MarginContainer" parent="UI/LogPanel"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 15
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 15
theme_override_constants/margin_bottom = 10
metadata/_edit_use_anchors_ = true

[node name="Log" type="RichTextLabel" parent="UI/LogPanel/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/normal_font_size = 30
theme_override_font_sizes/bold_font_size = 30
theme_override_font_sizes/italics_font_size = 30
theme_override_font_sizes/bold_italics_font_size = 30
theme_override_font_sizes/mono_font_size = 30
bbcode_enabled = true
scroll_following = true
script = ExtResource("8_jb1d5")

[node name="SR" type="Label" parent="UI"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.0191617
anchor_top = 0.900742
anchor_right = 0.51497
anchor_bottom = 0.988868
grow_vertical = 0
theme_override_font_sizes/font_size = 40
theme_override_styles/normal = SubResource("StyleBoxFlat_wrb36")
text = "X Students Remain"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("9_56w3f")
metadata/_edit_use_anchors_ = true

[node name="Button" type="Button" parent="."]
custom_minimum_size = Vector2(40, 40)
layout_mode = 1
anchors_preset = -1
anchor_left = 0.960417
anchor_top = 0.0138889
anchor_right = 0.992708
anchor_bottom = 0.0712963
grow_horizontal = 0
theme_override_colors/icon_normal_color = Color(1, 1, 1, 1)
theme_override_colors/icon_pressed_color = Color(1, 1, 1, 1)
theme_override_colors/icon_hover_color = Color(1, 1, 1, 1)
theme_override_colors/icon_hover_pressed_color = Color(1, 1, 1, 1)
theme_override_colors/icon_focus_color = Color(1, 1, 1, 1)
theme_override_colors/icon_disabled_color = Color(1, 1, 1, 1)
theme_override_styles/normal = SubResource("StyleBoxEmpty_a32b1")
icon = ExtResource("5_a6bah")
icon_alignment = 1
expand_icon = true
script = ExtResource("6_65q8j")
metadata/_edit_use_anchors_ = true

[node name="Timer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[connection signal="area_entered" from="MouseTracker" to="MouseTracker" method="_on_area_entered"]
[connection signal="clickedArea" from="MouseTracker" to="mapGrid/Grid" method="areaClicked"]
[connection signal="timeout" from="Timer" to="Glogic" method="_on_timer_timeout"]
